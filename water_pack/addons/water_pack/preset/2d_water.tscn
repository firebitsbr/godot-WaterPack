[gd_scene load_steps=6 format=2]

[ext_resource path="res://addons/water_pack/script/2d_water.gd" type="Script" id=1]

[sub_resource type="Gradient" id=3]

offsets = PoolRealArray( 0, 1 )
colors = PoolColorArray( 0, 0.742188, 1, 1, 0, 0, 0, 1 )

[sub_resource type="GradientTexture" id=4]

flags = 4
gradient = SubResource( 3 )
width = 2048

[sub_resource type="Shader" id=1]

code = "shader_type canvas_item;

uniform float amplitude = 10;
uniform float frequency = 10;

uniform float water_height = 300.0;
uniform float water_depth = 300.0;

varying vec2 UV2;

void vertex() {
	if(COLOR.r == 1.0) {
		VERTEX.y += sin(TIME + VERTEX.x/frequency)*amplitude;
	}
	UV2.x = (VERTEX.y - water_height) / water_depth;
}

void fragment() {
	vec4 col = COLOR;
	COLOR = texture(TEXTURE, UV2);
	COLOR = mix(COLOR, col, clamp(UV.y*30.0 - 29.0, 0.0, 1.0));
}"

[sub_resource type="ShaderMaterial" id=2]

render_priority = 0
shader = SubResource( 1 )
shader_param/amplitude = 1.414
shader_param/frequency = 15.797
shader_param/water_height = null
shader_param/water_depth = 300
_sections_unfolded = [ "shader_param" ]

[node name="2d_water" type="Node2D"]

script = ExtResource( 1 )
water_color = SubResource( 4 )
surface_color = Color( 1, 1, 1, 1 )
water_height = 300
water_depth = 393
water_start = 0
water_end = 1024
resolution = 120

[node name="Polygon2D" type="Polygon2D" parent="." index="0"]

material = SubResource( 2 )
polygon = PoolVector2Array( 0, 693, 0, 300, 8.60504, 300, 8.60504, 692, 8.60504, 300, 17.2101, 300, 17.2101, 692, 17.2101, 300, 25.8151, 300, 25.8151, 692, 25.8151, 300, 34.4202, 300, 34.4202, 692, 34.4202, 300, 43.0252, 300, 43.0252, 692, 43.0252, 300, 51.6303, 300, 51.6303, 692, 51.6303, 300, 60.2353, 300, 60.2353, 692, 60.2353, 300, 68.8403, 300, 68.8403, 692, 68.8403, 300, 77.4454, 300, 77.4454, 692, 77.4454, 300, 86.0504, 300, 86.0504, 692, 86.0504, 300, 94.6555, 300, 94.6555, 692, 94.6555, 300, 103.261, 300, 103.261, 692, 103.261, 300, 111.866, 300, 111.866, 692, 111.866, 300, 120.471, 300, 120.471, 692, 120.471, 300, 129.076, 300, 129.076, 692, 129.076, 300, 137.681, 300, 137.681, 692, 137.681, 300, 146.286, 300, 146.286, 692, 146.286, 300, 154.891, 300, 154.891, 692, 154.891, 300, 163.496, 300, 163.496, 692, 163.496, 300, 172.101, 300, 172.101, 692, 172.101, 300, 180.706, 300, 180.706, 692, 180.706, 300, 189.311, 300, 189.311, 692, 189.311, 300, 197.916, 300, 197.916, 692, 197.916, 300, 206.521, 300, 206.521, 692, 206.521, 300, 215.126, 300, 215.126, 692, 215.126, 300, 223.731, 300, 223.731, 692, 223.731, 300, 232.336, 300, 232.336, 692, 232.336, 300, 240.941, 300, 240.941, 692, 240.941, 300, 249.546, 300, 249.546, 692, 249.546, 300, 258.151, 300, 258.151, 692, 258.151, 300, 266.756, 300, 266.756, 692, 266.756, 300, 275.361, 300, 275.361, 692, 275.361, 300, 283.966, 300, 283.966, 692, 283.966, 300, 292.571, 300, 292.571, 692, 292.571, 300, 301.176, 300, 301.176, 692, 301.176, 300, 309.782, 300, 309.782, 692, 309.782, 300, 318.387, 300, 318.387, 692, 318.387, 300, 326.992, 300, 326.992, 692, 326.992, 300, 335.597, 300, 335.597, 692, 335.597, 300, 344.202, 300, 344.202, 692, 344.202, 300, 352.807, 300, 352.807, 692, 352.807, 300, 361.412, 300, 361.412, 692, 361.412, 300, 370.017, 300, 370.017, 692, 370.017, 300, 378.622, 300, 378.622, 692, 378.622, 300, 387.227, 300, 387.227, 692, 387.227, 300, 395.832, 300, 395.832, 692, 395.832, 300, 404.437, 300, 404.437, 692, 404.437, 300, 413.042, 300, 413.042, 692, 413.042, 300, 421.647, 300, 421.647, 692, 421.647, 300, 430.252, 300, 430.252, 692, 430.252, 300, 438.857, 300, 438.857, 692, 438.857, 300, 447.462, 300, 447.462, 692, 447.462, 300, 456.067, 300, 456.067, 692, 456.067, 300, 464.672, 300, 464.672, 692, 464.672, 300, 473.277, 300, 473.277, 692, 473.277, 300, 481.882, 300, 481.882, 692, 481.882, 300, 490.487, 300, 490.487, 692, 490.487, 300, 499.092, 300, 499.092, 692, 499.092, 300, 507.697, 300, 507.697, 692, 507.697, 300, 516.303, 300, 516.303, 692, 516.303, 300, 524.908, 300, 524.908, 692, 524.908, 300, 533.513, 300, 533.513, 692, 533.513, 300, 542.118, 300, 542.118, 692, 542.118, 300, 550.723, 300, 550.723, 692, 550.723, 300, 559.328, 300, 559.328, 692, 559.328, 300, 567.933, 300, 567.933, 692, 567.933, 300, 576.538, 300, 576.538, 692, 576.538, 300, 585.143, 300, 585.143, 692, 585.143, 300, 593.748, 300, 593.748, 692, 593.748, 300, 602.353, 300, 602.353, 692, 602.353, 300, 610.958, 300, 610.958, 692, 610.958, 300, 619.563, 300, 619.563, 692, 619.563, 300, 628.168, 300, 628.168, 692, 628.168, 300, 636.773, 300, 636.773, 692, 636.773, 300, 645.378, 300, 645.378, 692, 645.378, 300, 653.983, 300, 653.983, 692, 653.983, 300, 662.588, 300, 662.588, 692, 662.588, 300, 671.193, 300, 671.193, 692, 671.193, 300, 679.798, 300, 679.798, 692, 679.798, 300, 688.403, 300, 688.403, 692, 688.403, 300, 697.008, 300, 697.008, 692, 697.008, 300, 705.613, 300, 705.613, 692, 705.613, 300, 714.219, 300, 714.219, 692, 714.219, 300, 722.824, 300, 722.824, 692, 722.824, 300, 731.429, 300, 731.429, 692, 731.429, 300, 740.034, 300, 740.034, 692, 740.034, 300, 748.639, 300, 748.639, 692, 748.639, 300, 757.244, 300, 757.244, 692, 757.244, 300, 765.849, 300, 765.849, 692, 765.849, 300, 774.454, 300, 774.454, 692, 774.454, 300, 783.059, 300, 783.059, 692, 783.059, 300, 791.664, 300, 791.664, 692, 791.664, 300, 800.269, 300, 800.269, 692, 800.269, 300, 808.874, 300, 808.874, 692, 808.874, 300, 817.479, 300, 817.479, 692, 817.479, 300, 826.084, 300, 826.084, 692, 826.084, 300, 834.689, 300, 834.689, 692, 834.689, 300, 843.294, 300, 843.294, 692, 843.294, 300, 851.899, 300, 851.899, 692, 851.899, 300, 860.504, 300, 860.504, 692, 860.504, 300, 869.109, 300, 869.109, 692, 869.109, 300, 877.714, 300, 877.714, 692, 877.714, 300, 886.319, 300, 886.319, 692, 886.319, 300, 894.924, 300, 894.924, 692, 894.924, 300, 903.529, 300, 903.529, 692, 903.529, 300, 912.134, 300, 912.134, 692, 912.134, 300, 920.74, 300, 920.74, 692, 920.74, 300, 929.345, 300, 929.345, 692, 929.345, 300, 937.95, 300, 937.95, 692, 937.95, 300, 946.555, 300, 946.555, 692, 946.555, 300, 955.16, 300, 955.16, 692, 955.16, 300, 963.765, 300, 963.765, 692, 963.765, 300, 972.37, 300, 972.37, 692, 972.37, 300, 980.975, 300, 980.975, 692, 980.975, 300, 989.58, 300, 989.58, 692, 989.58, 300, 998.185, 300, 998.185, 692, 998.185, 300, 1006.79, 300, 1006.79, 692, 1006.79, 300, 1015.39, 300, 1015.39, 692, 1015.39, 300, 1024, 300, 1024, 693 )
uv = PoolVector2Array( 0, 0, 0, 1, 0.00840336, 1, 1, 0, 0.00840336, 1, 0.0168067, 1, 1, 0, 0.0168067, 1, 0.0252101, 1, 1, 0, 0.0252101, 1, 0.0336134, 1, 1, 0, 0.0336134, 1, 0.0420168, 1, 1, 0, 0.0420168, 1, 0.0504202, 1, 1, 0, 0.0504202, 1, 0.0588235, 1, 1, 0, 0.0588235, 1, 0.0672269, 1, 1, 0, 0.0672269, 1, 0.0756303, 1, 1, 0, 0.0756303, 1, 0.0840336, 1, 1, 0, 0.0840336, 1, 0.092437, 1, 1, 0, 0.092437, 1, 0.10084, 1, 1, 0, 0.10084, 1, 0.109244, 1, 1, 0, 0.109244, 1, 0.117647, 1, 1, 0, 0.117647, 1, 0.12605, 1, 1, 0, 0.12605, 1, 0.134454, 1, 1, 0, 0.134454, 1, 0.142857, 1, 1, 0, 0.142857, 1, 0.151261, 1, 1, 0, 0.151261, 1, 0.159664, 1, 1, 0, 0.159664, 1, 0.168067, 1, 1, 0, 0.168067, 1, 0.176471, 1, 1, 0, 0.176471, 1, 0.184874, 1, 1, 0, 0.184874, 1, 0.193277, 1, 1, 0, 0.193277, 1, 0.201681, 1, 1, 0, 0.201681, 1, 0.210084, 1, 1, 0, 0.210084, 1, 0.218487, 1, 1, 0, 0.218487, 1, 0.226891, 1, 1, 0, 0.226891, 1, 0.235294, 1, 1, 0, 0.235294, 1, 0.243697, 1, 1, 0, 0.243697, 1, 0.252101, 1, 1, 0, 0.252101, 1, 0.260504, 1, 1, 0, 0.260504, 1, 0.268908, 1, 1, 0, 0.268908, 1, 0.277311, 1, 1, 0, 0.277311, 1, 0.285714, 1, 1, 0, 0.285714, 1, 0.294118, 1, 1, 0, 0.294118, 1, 0.302521, 1, 1, 0, 0.302521, 1, 0.310924, 1, 1, 0, 0.310924, 1, 0.319328, 1, 1, 0, 0.319328, 1, 0.327731, 1, 1, 0, 0.327731, 1, 0.336134, 1, 1, 0, 0.336134, 1, 0.344538, 1, 1, 0, 0.344538, 1, 0.352941, 1, 1, 0, 0.352941, 1, 0.361345, 1, 1, 0, 0.361345, 1, 0.369748, 1, 1, 0, 0.369748, 1, 0.378151, 1, 1, 0, 0.378151, 1, 0.386555, 1, 1, 0, 0.386555, 1, 0.394958, 1, 1, 0, 0.394958, 1, 0.403361, 1, 1, 0, 0.403361, 1, 0.411765, 1, 1, 0, 0.411765, 1, 0.420168, 1, 1, 0, 0.420168, 1, 0.428571, 1, 1, 0, 0.428571, 1, 0.436975, 1, 1, 0, 0.436975, 1, 0.445378, 1, 1, 0, 0.445378, 1, 0.453782, 1, 1, 0, 0.453782, 1, 0.462185, 1, 1, 0, 0.462185, 1, 0.470588, 1, 1, 0, 0.470588, 1, 0.478992, 1, 1, 0, 0.478992, 1, 0.487395, 1, 1, 0, 0.487395, 1, 0.495798, 1, 1, 0, 0.495798, 1, 0.504202, 1, 1, 0, 0.504202, 1, 0.512605, 1, 1, 0, 0.512605, 1, 0.521008, 1, 1, 0, 0.521008, 1, 0.529412, 1, 1, 0, 0.529412, 1, 0.537815, 1, 1, 0, 0.537815, 1, 0.546219, 1, 1, 0, 0.546219, 1, 0.554622, 1, 1, 0, 0.554622, 1, 0.563025, 1, 1, 0, 0.563025, 1, 0.571429, 1, 1, 0, 0.571429, 1, 0.579832, 1, 1, 0, 0.579832, 1, 0.588235, 1, 1, 0, 0.588235, 1, 0.596639, 1, 1, 0, 0.596639, 1, 0.605042, 1, 1, 0, 0.605042, 1, 0.613445, 1, 1, 0, 0.613445, 1, 0.621849, 1, 1, 0, 0.621849, 1, 0.630252, 1, 1, 0, 0.630252, 1, 0.638655, 1, 1, 0, 0.638655, 1, 0.647059, 1, 1, 0, 0.647059, 1, 0.655462, 1, 1, 0, 0.655462, 1, 0.663866, 1, 1, 0, 0.663866, 1, 0.672269, 1, 1, 0, 0.672269, 1, 0.680672, 1, 1, 0, 0.680672, 1, 0.689076, 1, 1, 0, 0.689076, 1, 0.697479, 1, 1, 0, 0.697479, 1, 0.705882, 1, 1, 0, 0.705882, 1, 0.714286, 1, 1, 0, 0.714286, 1, 0.722689, 1, 1, 0, 0.722689, 1, 0.731092, 1, 1, 0, 0.731092, 1, 0.739496, 1, 1, 0, 0.739496, 1, 0.747899, 1, 1, 0, 0.747899, 1, 0.756303, 1, 1, 0, 0.756303, 1, 0.764706, 1, 1, 0, 0.764706, 1, 0.773109, 1, 1, 0, 0.773109, 1, 0.781513, 1, 1, 0, 0.781513, 1, 0.789916, 1, 1, 0, 0.789916, 1, 0.798319, 1, 1, 0, 0.798319, 1, 0.806723, 1, 1, 0, 0.806723, 1, 0.815126, 1, 1, 0, 0.815126, 1, 0.823529, 1, 1, 0, 0.823529, 1, 0.831933, 1, 1, 0, 0.831933, 1, 0.840336, 1, 1, 0, 0.840336, 1, 0.84874, 1, 1, 0, 0.84874, 1, 0.857143, 1, 1, 0, 0.857143, 1, 0.865546, 1, 1, 0, 0.865546, 1, 0.87395, 1, 1, 0, 0.87395, 1, 0.882353, 1, 1, 0, 0.882353, 1, 0.890756, 1, 1, 0, 0.890756, 1, 0.89916, 1, 1, 0, 0.89916, 1, 0.907563, 1, 1, 0, 0.907563, 1, 0.915966, 1, 1, 0, 0.915966, 1, 0.92437, 1, 1, 0, 0.92437, 1, 0.932773, 1, 1, 0, 0.932773, 1, 0.941176, 1, 1, 0, 0.941176, 1, 0.94958, 1, 1, 0, 0.94958, 1, 0.957983, 1, 1, 0, 0.957983, 1, 0.966387, 1, 1, 0, 0.966387, 1, 0.97479, 1, 1, 0, 0.97479, 1, 0.983193, 1, 1, 0, 0.983193, 1, 0.991597, 1, 1, 0, 0.991597, 1, 1, 1, 1, 0 )
color = Color( 1, 1, 1, 1 )
vertex_colors = PoolColorArray(  )
offset = Vector2( 0, 0 )
antialiased = false
texture = SubResource( 4 )
texture_offset = Vector2( 0, 0 )
texture_scale = Vector2( 1, 1 )
texture_rotation_degrees = 0.0
invert_enable = false
invert_border = 100.0
_sections_unfolded = [ "Invert", "Material", "Texture" ]


